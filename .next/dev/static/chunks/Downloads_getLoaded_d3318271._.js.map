{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport * as data from './data';\nimport { Product } from '../types';\n\n/**\n * Server Actions for Client Components\n * These act as a public gateway to the internal data layer.\n */\n\nexport async function getProducts(kind: 'FIREARM' | 'AMMO', limit = 50, skip = 0): Promise<Product[]> {\n    return data.getProducts(kind, limit, skip);\n}\n\nexport async function getProductsByIds(ids: string[]): Promise<Product[]> {\n    return data.getProductsByIds(ids);\n}\n"],"names":[],"mappings":";;;;;;;IAcsB,mBAAA,WAAA,GAAA,IAAA,8aAAA,EAAA,8CAAA,maAAA,EAAA,KAAA,GAAA,yaAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/CompareView.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useGlobal } from './GlobalProvider';\nimport { getProductsByIds } from '@/lib/actions';\nimport { Product } from '../types';\nimport {\n  RiArrowLeftLine,\n  RiScales3Line,\n  RiExternalLinkLine,\n  RiVerifiedBadgeFill,\n  RiDeleteBin7Line\n} from '@remixicon/react';\n\nconst CompareView: React.FC = () => {\n  const { compareIds, setCompareIds } = useGlobal();\n  const router = useRouter();\n  const [products, setProducts] = React.useState<Product[]>([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    const fetchCompareProducts = async () => {\n      if (compareIds.length === 0) {\n        setProducts([]);\n        setLoading(false);\n        return;\n      }\n      try {\n        setLoading(true);\n        const data = await getProductsByIds(compareIds);\n        setProducts(data);\n      } catch (error) {\n        console.error(\"Failed to fetch compare products\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCompareProducts();\n  }, [compareIds]);\n\n  const getBestOffer = (p: Product) => {\n    return [...p.offers].sort((a, b) => {\n      if (a.inStock !== b.inStock) return a.inStock ? -1 : 1;\n      if (p.kind === 'AMMO' && a.cpr !== undefined && b.cpr !== undefined) return a.cpr - b.cpr;\n      return a.price - b.price;\n    })[0];\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-20 px-4 flex justify-center text-slate-400\">\n        <span className=\"animate-pulse\">Loading comparison...</span>\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"max-w-4xl mx-auto py-20 px-4 text-center\">\n        <RiScales3Line className=\"size-16 mx-auto text-slate-300 mb-4\" />\n        <h2 className=\"text-2xl font-bold text-slate-900\">Your comparison list is empty</h2>\n        <p className=\"text-slate-500 mt-2\">Add some firearms or ammunition to compare them side-by-side.</p>\n        <button onClick={() => router.push('/')} className=\"mt-6 text-brand-600 font-bold hover:underline\">\n          &larr; Browse Products\n        </button>\n      </div>\n    );\n  }\n\n  // Find overall winners\n  const lowestPrice = Math.min(...products.map(p => getBestOffer(p).price));\n  const lowestCpr = Math.min(...products.map(p => getBestOffer(p).cpr || Infinity));\n\n  const Row = ({ label, getter }: { label: string, getter: (p: Product) => React.ReactNode }) => {\n    // Check if any product has a valid value (not N/A, not null/undefined)\n    const hasData = products.some(p => {\n      const val = getter(p);\n      return val !== 'N/A' && val !== 'N/A / N/A' && val !== null && val !== undefined;\n    });\n\n    if (!hasData) return null;\n\n    return (\n      <tr className=\"group\">\n        <td className=\"py-4 pr-4 text-xs font-bold text-slate-400 uppercase tracking-widest border-b border-slate-100 bg-slate-50/30\">\n          {label}\n        </td>\n        {products.map(p => (\n          <td key={p.id} className=\"py-4 px-6 text-sm font-medium text-slate-900 border-b border-slate-100 tabular-nums\">\n            {getter(p)}\n          </td>\n        ))}\n      </tr>\n    );\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <button onClick={() => router.back()} className=\"flex items-center gap-2 text-slate-500 hover:text-slate-900 font-medium\">\n          <RiArrowLeftLine className=\"size-5\" /> Back\n        </button>\n        <div className=\"flex items-center gap-3\">\n          <h1 className=\"text-2xl font-black text-slate-900 tracking-tight\">Product Comparison</h1>\n          <span className=\"bg-slate-100 text-slate-500 px-2 py-0.5 rounded text-xs font-bold uppercase\">{products.length} Products</span>\n        </div>\n        <button\n          onClick={() => setCompareIds([])}\n          className=\"flex items-center gap-2 text-red-500 hover:text-red-700 text-sm font-bold\"\n        >\n          <RiDeleteBin7Line className=\"size-4\" /> Clear\n        </button>\n      </div>\n\n      <div className=\"bg-white rounded-2xl shadow-xs border border-slate-200 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse\">\n            <thead>\n              <tr>\n                <th className=\"w-48 bg-slate-50/50\"></th>\n                {products.map(p => {\n                  const offer = getBestOffer(p);\n                  const isWinner = p.kind === 'AMMO' ? offer.cpr === lowestCpr : offer.price === lowestPrice;\n                  return (\n                    <th key={p.id} className={`p-6 min-w-[300px] border-b-2 ${isWinner ? 'border-brand-500 bg-brand-50/20' : 'border-slate-100'}`}>\n                      <div className=\"flex flex-col items-center text-center h-full justify-between\">\n                        <div className=\"w-full\">\n                          <div className=\"h-48 w-full mb-6 flex items-center justify-center p-4 bg-white rounded-xl border border-slate-100/50\">\n                            <img\n                              src={p.image}\n                              onError={(e) => {\n                                e.currentTarget.src = '/placeholder.jpg';\n                                e.currentTarget.onerror = null;\n                              }}\n                              className=\"max-h-full max-w-full object-contain mix-blend-multiply\"\n                              alt=\"\"\n                            />\n                          </div>\n                          <span className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1\">{p.brand.name}</span>\n                          <h3 className=\"text-base font-bold text-slate-900 leading-tight h-10 overflow-hidden mb-4\">{p.title}</h3>\n\n                          <div className=\"mb-4\">\n                            <div className=\"text-3xl font-black text-slate-900 tabular-nums\">${offer.price.toFixed(2)}</div>\n                            {p.kind === 'AMMO' && (\n                              <div className=\"text-brand-600 font-bold text-sm tracking-tight\">\n                                ${offer.cpr?.toFixed(2)}/rd\n                              </div>\n                            )}\n                          </div>\n\n                          {isWinner && (\n                            <div className=\"mb-4 inline-flex items-center gap-1.5 px-3 py-1 bg-brand-100 text-brand-700 text-[10px] font-bold uppercase tracking-wider rounded-full ring-1 ring-brand-200\">\n                              <RiVerifiedBadgeFill className=\"size-3\" />\n                              Value Winner\n                            </div>\n                          )}\n                        </div>\n\n                        <button\n                          className=\"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-bold text-white shadow-lg shadow-slate-900/20 hover:bg-slate-800 transition-all hover:-translate-y-0.5 mt-auto\"\n                        >\n                          View Deal <RiExternalLinkLine className=\"size-4\" />\n                        </button>\n                      </div>\n                    </th>\n                  );\n                })}\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-100\">\n              <Row label=\"Caliber\" getter={p => p.caliber || 'N/A'} />\n              <Row label=\"Grain\" getter={p => p.grain ? `${p.grain} gr` : 'N/A'} />\n              <Row label=\"Barrel / Capacity\" getter={p => p.kind === 'FIREARM' ? `${p.barrelLength || 'N/A'} / ${p.capacity || 'N/A'}` : 'N/A'} />\n              <Row label=\"Velocity\" getter={p => p.velocity ? `${p.velocity} fps` : 'N/A'} />\n              <Row label=\"Casing\" getter={p => p.casing || 'N/A'} />\n              <Row label=\"Market Status\" getter={p => {\n                const offer = getBestOffer(p);\n                return offer.inStock ?\n                  <span className=\"text-emerald-600 flex items-center gap-1 font-bold\">‚óè In Stock</span> :\n                  <span className=\"text-slate-400 font-bold italic\">Out of Stock</span>\n              }} />\n              <Row label=\"Top Retailer\" getter={p => getBestOffer(p).retailer.name} />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompareView;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.5_react-dom%4019.2.3_react%4019.2.3__react%4019.2.3/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0]}}]
}