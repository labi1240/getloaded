{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/ProductLoading.tsx"],"sourcesContent":["import React from 'react';\n\nconst ProductLoading = () => {\n    return (\n        <div className=\"min-h-screen bg-slate-50 pb-24\">\n            <div className=\"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n                {/* Breadcrumb Skeleton */}\n                <div className=\"flex mb-8 gap-2 items-center\">\n                    <div className=\"h-3 w-16 bg-slate-200 rounded animate-pulse\" />\n                    <div className=\"h-3 w-3 bg-slate-200 rounded animate-pulse\" />\n                    <div className=\"h-3 w-24 bg-slate-200 rounded animate-pulse\" />\n                    <div className=\"h-3 w-3 bg-slate-200 rounded animate-pulse\" />\n                    <div className=\"h-3 w-48 bg-slate-200 rounded animate-pulse\" />\n                </div>\n\n                {/* Hero Product Skeleton */}\n                <div className=\"bg-white rounded-2xl shadow-xs ring-1 ring-slate-900/5 overflow-hidden mb-12\">\n                    <div className=\"flex flex-col lg:flex-row\">\n                        <div className=\"lg:w-2/5 h-96 bg-slate-100 flex items-center justify-center animate-pulse\" />\n                        <div className=\"p-10 lg:p-14 flex-1 space-y-8\">\n                            <div className=\"flex justify-between\">\n                                <div className=\"h-4 w-32 bg-slate-200 rounded animate-pulse\" />\n                                <div className=\"h-6 w-24 bg-slate-200 rounded-full animate-pulse\" />\n                            </div>\n                            <div className=\"h-12 w-3/4 bg-slate-200 rounded animate-pulse\" />\n                            <div className=\"flex gap-4\">\n                                <div className=\"h-8 w-24 bg-slate-200 rounded animate-pulse\" />\n                                <div className=\"h-8 w-24 bg-slate-200 rounded animate-pulse\" />\n                            </div>\n                            <div className=\"pt-12 border-t border-slate-100 flex justify-between items-end\">\n                                <div className=\"space-y-4\">\n                                    <div className=\"h-4 w-20 bg-slate-200 rounded animate-pulse\" />\n                                    <div className=\"h-16 w-48 bg-slate-200 rounded animate-pulse\" />\n                                </div>\n                                <div className=\"h-16 w-48 bg-slate-900/10 rounded-2xl animate-pulse\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Liquidity Table Skeleton */}\n                <div className=\"bg-white rounded-3xl shadow-xs border border-slate-200 overflow-hidden mb-12 h-64 animate-pulse\" />\n            </div>\n        </div>\n    );\n};\n\nexport default ProductLoading;\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,iBAAiB;IACnB,qBACI,0aAAC;QAAI,WAAU;kBACX,cAAA,0aAAC;YAAI,WAAU;;8BAEX,0aAAC;oBAAI,WAAU;;sCACX,0aAAC;4BAAI,WAAU;;;;;;sCACf,0aAAC;4BAAI,WAAU;;;;;;sCACf,0aAAC;4BAAI,WAAU;;;;;;sCACf,0aAAC;4BAAI,WAAU;;;;;;sCACf,0aAAC;4BAAI,WAAU;;;;;;;;;;;;8BAInB,0aAAC;oBAAI,WAAU;8BACX,cAAA,0aAAC;wBAAI,WAAU;;0CACX,0aAAC;gCAAI,WAAU;;;;;;0CACf,0aAAC;gCAAI,WAAU;;kDACX,0aAAC;wCAAI,WAAU;;0DACX,0aAAC;gDAAI,WAAU;;;;;;0DACf,0aAAC;gDAAI,WAAU;;;;;;;;;;;;kDAEnB,0aAAC;wCAAI,WAAU;;;;;;kDACf,0aAAC;wCAAI,WAAU;;0DACX,0aAAC;gDAAI,WAAU;;;;;;0DACf,0aAAC;gDAAI,WAAU;;;;;;;;;;;;kDAEnB,0aAAC;wCAAI,WAAU;;0DACX,0aAAC;gDAAI,WAAU;;kEACX,0aAAC;wDAAI,WAAU;;;;;;kEACf,0aAAC;wDAAI,WAAU;;;;;;;;;;;;0DAEnB,0aAAC;gDAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAO/B,0aAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAI/B;uCAEe"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/ProductDetail.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Downloads/getLoaded/components/ProductDetail.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/getLoaded/components/ProductDetail.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,ocAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0]}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/ProductDetail.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Downloads/getLoaded/components/ProductDetail.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/getLoaded/components/ProductDetail.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,ocAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/CategoryPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Downloads/getLoaded/components/CategoryPage.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/getLoaded/components/CategoryPage.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,ocAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmT,GAChV,iFACA","ignoreList":[0]}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/components/CategoryPage.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Downloads/getLoaded/components/CategoryPage.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/getLoaded/components/CategoryPage.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,ocAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","ignoreList":[0]}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/lovepreetgill/Downloads/getLoaded/app/ammo/%5B...slug%5D/page.tsx"],"sourcesContent":["\nimport React, { Suspense } from 'react';\nimport ProductLoading from '@/components/ProductLoading';\nimport { notFound } from 'next/navigation';\nimport { getProductBySlug, getOffers, getPairedProduct, getProducts, isValidCaliberSlug, isValidBrandSlug } from '@/lib/data';\nimport ProductDetail from '@/components/ProductDetail';\nimport CategoryPage from '@/components/CategoryPage';\n\nexport default function AmmoSmartRoute({ params }: { params: Promise<{ slug: string[] }> }) {\n    return (\n        <Suspense fallback={<ProductLoading />}>\n            <SmartContent params={params} />\n        </Suspense>\n    );\n}\n\nasync function SmartContent({ params }: { params: Promise<{ slug: string[] }> }) {\n    const { slug: segments } = await params;\n    const slugKey = segments.join('/');\n\n    // 1. Try as Product (only if 1 segment, typically)\n    // Products usually have long dashed slugs. \n    // We try this first to preserve existing PDPs.\n    if (segments.length === 1) {\n        const product = await getProductBySlug(segments[0]);\n        if (product && product.kind === 'AMMO') {\n            const offers = await getOffers(product.id);\n            const pairedProduct = await getPairedProduct(product.id);\n            const productWithOffers = { ...product, offers };\n            return <ProductDetail initialProduct={productWithOffers} pairedProduct={pairedProduct} />;\n        }\n    }\n\n    // 2. Try as Category Route\n    // Parse segments for filters\n    const filters: { caliberSlug?: string[]; brandSlug?: string[]; grain?: string[]; casings?: string[] } = {};\n    let hasValidFilter = false;\n\n    // We iterate segments to find matches. \n    // This allows flexible ordering like /ammo/9mm-luger or /ammo/federal-premium\n    for (const segment of segments) {\n        // Check Caliber\n        if (await isValidCaliberSlug(segment)) {\n            filters.caliberSlug = [segment];\n            hasValidFilter = true;\n            continue;\n        }\n\n        // Check Brand\n        if (await isValidBrandSlug(segment)) {\n            filters.brandSlug = [segment];\n            hasValidFilter = true;\n            continue;\n        }\n\n        // Check Grain (e.g. \"147gr\", \"115gr\")\n        const grainMatch = segment.match(/^(\\d+)gr$/i);\n        if (grainMatch) {\n            filters.grain = [grainMatch[1]]; // Pass as string array\n            hasValidFilter = true;\n            continue;\n        }\n\n        // Check Casing (Optional - using simple whitelist for now as we don't have slug-helper)\n        if (['brass', 'steel', 'aluminum', 'nickel'].includes(segment.toLowerCase())) {\n            // Mapping common casing names to values if needed, or simple array passing\n            // Since casing filter expects array, we treat this as one value\n            // filters.casings = [segment]; // To be fully implemented in data.ts if needed\n            // For now, we skip server-side filtering for casing but pass it to client\n            // Client expects 'Brass' capitalized usually? Let's rely on standard search\n            continue;\n        }\n    }\n\n    if (hasValidFilter) {\n        // Fetch server-side filtered products for SEO\n        const initialProducts = await getProducts('AMMO', 100, 0, filters);\n\n        // Pass Hydrated State to Category Page\n        // We construct the initialFilters object for NUQS to sync\n        const initialClientFilters: any = {};\n        if (filters.brandSlug) initialClientFilters.brands = [filters.brandSlug];\n        if (filters.caliberSlug) initialClientFilters.calibers = [filters.caliberSlug];\n        if (filters.grain) initialClientFilters.grains = [filters.grain.toString()];\n\n        return <CategoryPage initialProducts={initialProducts} kind=\"AMMO\" filters={initialClientFilters} />;\n    }\n\n    // 3. Fallback\n    notFound();\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAEe,SAAS,eAAe,EAAE,MAAM,EAA2C;IACtF,qBACI,0aAAC,6YAAQ;QAAC,wBAAU,0aAAC,kKAAc;;;;;kBAC/B,cAAA,0aAAC;YAAa,QAAQ;;;;;;;;;;;AAGlC;AAEA,eAAe,aAAa,EAAE,MAAM,EAA2C;IAC3E,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM;IACjC,MAAM,UAAU,SAAS,IAAI,CAAC;IAE9B,mDAAmD;IACnD,4CAA4C;IAC5C,+CAA+C;IAC/C,IAAI,SAAS,MAAM,KAAK,GAAG;QACvB,MAAM,UAAU,MAAM,IAAA,yJAAgB,EAAC,QAAQ,CAAC,EAAE;QAClD,IAAI,WAAW,QAAQ,IAAI,KAAK,QAAQ;YACpC,MAAM,SAAS,MAAM,IAAA,kJAAS,EAAC,QAAQ,EAAE;YACzC,MAAM,gBAAgB,MAAM,IAAA,yJAAgB,EAAC,QAAQ,EAAE;YACvD,MAAM,oBAAoB;gBAAE,GAAG,OAAO;gBAAE;YAAO;YAC/C,qBAAO,0aAAC,iKAAa;gBAAC,gBAAgB;gBAAmB,eAAe;;;;;;QAC5E;IACJ;IAEA,2BAA2B;IAC3B,6BAA6B;IAC7B,MAAM,UAAkG,CAAC;IACzG,IAAI,iBAAiB;IAErB,wCAAwC;IACxC,8EAA8E;IAC9E,KAAK,MAAM,WAAW,SAAU;QAC5B,gBAAgB;QAChB,IAAI,MAAM,IAAA,2JAAkB,EAAC,UAAU;YACnC,QAAQ,WAAW,GAAG;gBAAC;aAAQ;YAC/B,iBAAiB;YACjB;QACJ;QAEA,cAAc;QACd,IAAI,MAAM,IAAA,yJAAgB,EAAC,UAAU;YACjC,QAAQ,SAAS,GAAG;gBAAC;aAAQ;YAC7B,iBAAiB;YACjB;QACJ;QAEA,sCAAsC;QACtC,MAAM,aAAa,QAAQ,KAAK,CAAC;QACjC,IAAI,YAAY;YACZ,QAAQ,KAAK,GAAG;gBAAC,UAAU,CAAC,EAAE;aAAC,EAAE,uBAAuB;YACxD,iBAAiB;YACjB;QACJ;QAEA,wFAAwF;QACxF,IAAI;YAAC;YAAS;YAAS;YAAY;SAAS,CAAC,QAAQ,CAAC,QAAQ,WAAW,KAAK;YAM1E;QACJ;IACJ;IAEA,IAAI,gBAAgB;QAChB,8CAA8C;QAC9C,MAAM,kBAAkB,MAAM,IAAA,oJAAW,EAAC,QAAQ,KAAK,GAAG;QAE1D,uCAAuC;QACvC,0DAA0D;QAC1D,MAAM,uBAA4B,CAAC;QACnC,IAAI,QAAQ,SAAS,EAAE,qBAAqB,MAAM,GAAG;YAAC,QAAQ,SAAS;SAAC;QACxE,IAAI,QAAQ,WAAW,EAAE,qBAAqB,QAAQ,GAAG;YAAC,QAAQ,WAAW;SAAC;QAC9E,IAAI,QAAQ,KAAK,EAAE,qBAAqB,MAAM,GAAG;YAAC,QAAQ,KAAK,CAAC,QAAQ;SAAG;QAE3E,qBAAO,0aAAC,gKAAY;YAAC,iBAAiB;YAAiB,MAAK;YAAO,SAAS;;;;;;IAChF;IAEA,cAAc;IACd,IAAA,6XAAQ;AACZ"}}]
}